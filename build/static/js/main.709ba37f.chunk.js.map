{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Button.js","components/Person.js","services/persons.js","App.js","index.js"],"names":["Filter","handleSearch","onChange","Notification","notification","message","style","succesfully","backgroundColor","padding","border","borderRadius","fontSize","maxWidth","PersonForm","handleSubmit","handleChangeName","handleChangeNumber","newName","newNumber","onSubmit","value","type","Button","handleDelete","onClick","Person","filteredPersons","map","person","marginBottom","name","number","id","baseUrl","axios","get","then","response","data","newPerson","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFilteredPersons","setNotification","useEffect","personService","initialPersons","e","searchTerm","target","toLowerCase","result","filter","includes","preventDefault","some","wantedPerson","each","window","confirm","res","console","log","catch","error","setTimeout","returnedPerson","concat","msg","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wKASeA,EATA,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAChB,OACE,gCACE,yDACA,uBAAOC,SAAUD,QCyBRE,EA7BM,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAkBtB,OAA6B,OAAzBA,EAAaC,QACR,GAIP,qBAAKC,MAAOF,EAAaG,YAtBF,CACvBC,gBAAiB,aACjBC,QAAS,SACTC,OAAQ,kBACRC,aAAc,GACdC,SAAU,GACVC,SAAU,KAEO,CACjBL,gBAAiB,aACjBC,QAAS,SACTC,OAAQ,gBACRC,aAAc,GACdC,SAAU,GACVC,SAAU,KAQV,SACE,4BAAIT,EAAaC,aCDRS,EAvBI,SAAC,GAMb,IALLC,EAKI,EALJA,aACAC,EAII,EAJJA,iBACAC,EAGI,EAHJA,mBACAC,EAEI,EAFJA,QACAC,EACI,EADJA,UAEA,OACE,uBAAMC,SAAUL,EAAhB,UACE,gCACE,0CACA,uBAAOb,SAAUc,EAAkBK,MAAOH,OAE5C,gCACE,4CACA,uBAAOhB,SAAUe,EAAoBI,MAAOF,OAE9C,8BACE,wBAAQG,KAAK,SAAb,uBCdOC,EAJA,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAChB,OAAO,wBAAQC,QAASD,EAAjB,qBCeME,EAdA,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,gBAAiBH,EAAmB,EAAnBA,aACjC,OACE,6BACGG,EAAgBC,KAAI,SAACC,GAAD,OACnB,qBAAsBvB,MAAO,CAAEwB,aAAc,QAA7C,UACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,uBACA,cAAC,EAAD,CAAQR,aAAc,kBAAMA,EAAaK,EAAOI,SAHzCJ,EAAOE,Y,gBCLlBG,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAkB9B,EAfA,SAACC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAa9B,EAVA,SAACN,EAAIM,GAElB,OADgBJ,IAAMO,IAAN,UAAaR,EAAb,YAAwBD,GAAMM,GAC/BF,MAAK,SAACC,GAAD,OAAcA,EAASC,SAQ9B,EALA,SAACN,GAEd,OADgBE,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BD,IAC5BI,MAAK,SAACC,GAAD,OAAcA,EAASC,SC+H9BK,EA5IH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAO3B,EAAP,KAAgB8B,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAO1B,EAAP,KAAkB8B,EAAlB,KACA,EAA8CJ,mBAASC,GAAvD,mBAAOnB,EAAP,KAAwBuB,EAAxB,KACA,EAAwCL,mBAAS,CAC/CxC,QAAS,KACTE,aAAa,IAFf,mBAAOH,EAAP,KAAqB+C,EAArB,KAKAC,qBAAU,WACRC,IAAuBhB,MAAK,SAACiB,GAC3BP,EAAWO,GACXJ,EAAmBI,QAEpB,IA0GH,OACE,gCACE,2CACA,cAAC,EAAD,CAAQrD,aA9BS,SAACsD,GACpB,IAAMC,EAAaD,EAAEE,OAAOpC,MAAMqC,cAE9BC,EAASb,EAAQc,QAAO,SAAC/B,GAE3B,OADWA,EAAOE,KAAK2B,cACXG,SAASL,MAEvBN,EAAmBS,MAwBjB,2CACA,cAAC,EAAD,CACE5C,aA9Ge,SAACwC,GAEpB,GADAA,EAAEO,iBAEAhB,EAAQiB,MACN,SAAClC,GAAD,OAAYA,EAAOE,KAAK2B,gBAAkBxC,EAAQwC,iBAGpD,OAAOL,IAAuBhB,MAAK,SAACiB,GAClC,IAAIU,EAAeV,EAAeM,QAChC,SAACK,GAAD,OAAUA,EAAKlC,KAAK2B,gBAAkBxC,EAAQwC,iBAEhD,GACEQ,OAAOC,QAAP,UACKjD,EADL,2EAGA,CACA,IAAMqB,EAAI,2BAAQyB,EAAa,IAArB,IAAyBhC,OAAQb,IAC3CkC,EACUd,EAAKN,GAAIM,GAChBF,MAAK,SAAC+B,GAAD,OAASC,QAAQC,IAAIF,MAC1BG,OAAM,SAACC,GACNH,QAAQC,IAAIE,GACZrB,EAAgB,CACd9C,QAASmE,EAAMlC,SAASC,KAAKiC,MAC7BjE,aAAa,OAGnB4C,EAAgB,CACd9C,QAAQ,GAAD,OAAKa,EAAL,iCACPX,aAAa,IAEfkE,YAAW,WACTtB,EAAgB,CAAE9C,QAAS,KAAME,aAAa,MAC7C,SAUT8C,EALqB,CACnBtB,KAAMb,EACNc,OAAQb,IAKPkB,MAAK,SAACqC,GACL3B,EAAWD,EAAQ6B,OAAOD,IAC1B1B,EAAW,IACXC,EAAa,IACbE,EAAgB,CACd9C,QAAQ,GAAD,OAAKa,EAAL,+BACPX,aAAa,IAEfkE,YAAW,WACTtB,EAAgB,CAAE9C,QAAS,KAAME,aAAa,MAC7C,QAEJgE,OAAM,SAACC,GACNrB,EAAgB,CACd9C,QAASmE,EAAMlC,SAASC,KAAKiC,MAC7BjE,aAAa,IAEfkE,YAAW,WACTtB,EAAgB,CAAE9C,QAAS,KAAME,aAAa,MAC7C,KACH8D,QAAQC,IAAIE,EAAMlC,SAASC,KAAKiC,WA8ChCxD,iBA1CmB,SAACuC,GACxBP,EAAWO,EAAEE,OAAOpC,QA0ChBH,QAASA,EACTD,mBAxCqB,SAACsC,GAC1BN,EAAaM,EAAEE,OAAOpC,QAwClBF,UAAWA,IAEb,yCACA,cAAC,EAAD,CAAcf,aAAcA,IAC5B,cAAC,EAAD,CAAQuB,gBAAiBA,EAAiBH,aA/BzB,SAACS,GACpB,IAAI+B,EAAerC,EAAgBiC,QAAO,SAAC/B,GAAD,OAAYA,EAAOI,KAAOA,KAChEiC,OAAOC,QAAP,iBAAyBH,EAAa,GAAGjC,QAC3CsB,EAAqBpB,GAAII,MAAK,SAAC+B,GAC7BrB,EAAWD,EAAQlB,KAAI,SAACC,GAAD,OAAaA,EAAOI,KAAOA,EAAKJ,EAASuC,MAChE,IAAMQ,EAAG,UAAMZ,EAAa,GAAGjC,KAAtB,yBACToB,EAAgB,CACd9C,QAASuE,EACTrE,aAAa,IAEfkE,YAAW,WACTtB,EAAgB,CAAE9C,QAAS,KAAME,aAAa,MAC7C,eCvHXsE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.709ba37f.chunk.js","sourcesContent":["const Filter = ({ handleSearch }) => {\r\n  return (\r\n    <div>\r\n      <label>Filter shown with a:</label>\r\n      <input onChange={handleSearch} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","const Notification = ({ notification }) => {\r\n  const succesfullyStyle = {\r\n    backgroundColor: 'whitesmoke',\r\n    padding: '0 30px',\r\n    border: '3px solid green',\r\n    borderRadius: 15,\r\n    fontSize: 20,\r\n    maxWidth: 500,\r\n  };\r\n  const wrongStyle = {\r\n    backgroundColor: 'whitesmoke',\r\n    padding: '0 30px',\r\n    border: '3px solid red',\r\n    borderRadius: 15,\r\n    fontSize: 20,\r\n    maxWidth: 500,\r\n  };\r\n\r\n  if (notification.message === null) {\r\n    return '';\r\n  }\r\n\r\n  return (\r\n    <div style={notification.succesfully ? succesfullyStyle : wrongStyle}>\r\n      <p>{notification.message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","const PersonForm = ({\r\n  handleSubmit,\r\n  handleChangeName,\r\n  handleChangeNumber,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <label>Name:</label>\r\n        <input onChange={handleChangeName} value={newName} />\r\n      </div>\r\n      <div>\r\n        <label>Number:</label>\r\n        <input onChange={handleChangeNumber} value={newNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\nexport default PersonForm;\r\n","const Button = ({ handleDelete }) => {\r\n  return <button onClick={handleDelete}>Delete</button>;\r\n};\r\n\r\nexport default Button;\r\n","import Button from './Button';\r\n\r\nconst Person = ({ filteredPersons, handleDelete }) => {\r\n  return (\r\n    <ul>\r\n      {filteredPersons.map((person) => (\r\n        <li key={person.name} style={{ marginBottom: '10px' }}>\r\n          {person.name} {person.number}\r\n          <br></br>\r\n          <Button handleDelete={() => handleDelete(person.id)} />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newPerson) => {\r\n  const request = axios.post(baseUrl, newPerson);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, data) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, data);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useState, useEffect } from 'react';\r\nimport Filter from './components/Filter';\r\nimport Notification from './components/Notification';\r\nimport PersonForm from './components/PersonForm';\r\nimport Person from './components/Person';\r\nimport personService from './services/persons';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [filteredPersons, setFilteredPersons] = useState(persons);\r\n  const [notification, setNotification] = useState({\r\n    message: null,\r\n    succesfully: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((initialPersons) => {\r\n      setPersons(initialPersons);\r\n      setFilteredPersons(initialPersons);\r\n    });\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      persons.some(\r\n        (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n      )\r\n    ) {\r\n      return personService.getAll().then((initialPersons) => {\r\n        let wantedPerson = initialPersons.filter(\r\n          (each) => each.name.toLowerCase() === newName.toLowerCase()\r\n        );\r\n        if (\r\n          window.confirm(\r\n            `${newName} is already added to phonebook, replace the old number with a new one?`\r\n          )\r\n        ) {\r\n          const data = { ...wantedPerson[0], number: newNumber };\r\n          personService\r\n            .update(data.id, data)\r\n            .then((res) => console.log(res))\r\n            .catch((error) => {\r\n              console.log(error);\r\n              setNotification({\r\n                message: error.response.data.error,\r\n                succesfully: false,\r\n              });\r\n            });\r\n          setNotification({\r\n            message: `${newName} has been succesfully updated`,\r\n            succesfully: true,\r\n          });\r\n          setTimeout(() => {\r\n            setNotification({ message: null, succesfully: true });\r\n          }, 5000);\r\n        }\r\n      });\r\n    }\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n\r\n    personService\r\n      .create(personObject)\r\n      .then((returnedPerson) => {\r\n        setPersons(persons.concat(returnedPerson));\r\n        setNewName('');\r\n        setNewNumber('');\r\n        setNotification({\r\n          message: `${newName} has been succesfully added`,\r\n          succesfully: true,\r\n        });\r\n        setTimeout(() => {\r\n          setNotification({ message: null, succesfully: true });\r\n        }, 5000);\r\n      })\r\n      .catch((error) => {\r\n        setNotification({\r\n          message: error.response.data.error,\r\n          succesfully: false,\r\n        });\r\n        setTimeout(() => {\r\n          setNotification({ message: null, succesfully: true });\r\n        }, 5000);\r\n        console.log(error.response.data.error);\r\n      });\r\n  };\r\n\r\n  const handleChangeName = (e) => {\r\n    setNewName(e.target.value);\r\n  };\r\n\r\n  const handleChangeNumber = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    const searchTerm = e.target.value.toLowerCase();\r\n\r\n    let result = persons.filter((person) => {\r\n      let name = person.name.toLowerCase();\r\n      return name.includes(searchTerm);\r\n    });\r\n    setFilteredPersons(result);\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    let wantedPerson = filteredPersons.filter((person) => person.id === id);\r\n    if (window.confirm(`Delete ${wantedPerson[0].name}`)) {\r\n      personService.remove(id).then((res) => {\r\n        setPersons(persons.map((person) => (person.id !== id ? person : res)));\r\n        const msg = `${wantedPerson[0].name} succesfully deleted!`;\r\n        setNotification({\r\n          message: msg,\r\n          succesfully: true,\r\n        });\r\n        setTimeout(() => {\r\n          setNotification({ message: null, succesfully: true });\r\n        }, 5000);\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter handleSearch={handleSearch} />\r\n      <h2>Add a new</h2>\r\n      <PersonForm\r\n        handleSubmit={handleSubmit}\r\n        handleChangeName={handleChangeName}\r\n        newName={newName}\r\n        handleChangeNumber={handleChangeNumber}\r\n        newNumber={newNumber}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Notification notification={notification} />\r\n      <Person filteredPersons={filteredPersons} handleDelete={handleDelete} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}